(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={App:"App_App__RHOmZ"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__38KAP"}},14:function(e,t,a){e.exports={Button:"Button_Button__3Yj2d"}},21:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2Si-2",SearchForm:"Searchbar_SearchForm__3XLRT",SearchFormButton:"Searchbar_SearchFormButton__3bMX6",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1a0zS",SearchFormInput:"Searchbar_SearchFormInput__2p10d"}},43:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(11),o=a.n(n),s=(a(20),a(21),a(10)),l=a(3),i=a(4),u=a.n(i),m=a(0);function j(e){return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(t){t.preventDefault(),""!==t.target[1].value.trim()?(e.onSubmit(t.target[1].value.toLowerCase()),t.target[1].value=""):alert("\u0414\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0441\u043b\u043e\u0432\u043e")},children:[Object(m.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(m.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:u.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var b=a(12),h=a.n(b),g=a(13),d=a.n(g),p=a(8),O=a.n(p);function f(e){var t=e.image,a=e.largeImageURL,r=e.tags;return Object(m.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(m.jsx)("img",{src:t,alt:r,"data-bigurl":a,className:O.a.ImageGalleryItemImage})})}function _(e){var t=e.images,a=e.onClick;return Object(m.jsx)("ul",{className:d.a.ImageGallery,onClick:a,children:t.map((function(e){var t=e.id,a=e.largeImageURL,r=e.webformatURL,c=e.tags;return Object(m.jsx)(f,{image:r,tags:c,largeImageURL:a},t)}))})}var x=a(9),S=a.n(x);function I(e){Object(r.useEffect)((function(){return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}));var t=function(t){"Escape"===t.code&&e.showModal()};return Object(m.jsx)("div",{className:S.a.Overlay,onClick:function(t){t.currentTarget===t.target&&e.showModal()},children:Object(m.jsx)("div",{className:S.a.Modal,children:Object(m.jsx)("img",{src:e.props,alt:""})})})}var v=a(14),y=a.n(v);function w(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:y.a.Button,onClick:t,children:"Load more"})}var k=a(15),F=a.n(k);function G(){return Object(m.jsx)("div",{style:{margin:"auto"},children:Object(m.jsx)(F.a,{type:"ThreeDots",color:"red",height:100,width:100,timeout:3e3})})}function L(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(null),o=Object(l.a)(n,2),i=o[0],u=o[1],b=Object(r.useState)(null),g=Object(l.a)(b,2),d=g[0],p=g[1],O=Object(r.useState)(!1),f=Object(l.a)(O,2),x=f[0],S=f[1],v=Object(r.useState)(!1),y=Object(l.a)(v,2),k=y[0],F=y[1],L=Object(r.useState)(1),N=Object(l.a)(L,2),B=N[0],M=N[1],C=Object(r.useState)(""),E=Object(l.a)(C,2),A=E[0],R=E[1];Object(r.useEffect)((function(){a&&T()}),[a]);function T(){return S(!0),fetch("https://pixabay.com/api/?q=".concat(a,"&page=").concat(B,"&key=22269453-01e35d719392ba61f98a14ac3&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041f\u043e \u0442\u0430\u043a\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441."))})).then((function(e){console.log(e),console.log(B),M(B+1),u((function(t){return t?[].concat(Object(s.a)(t),Object(s.a)(e.hits)):e.hits})),S(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return p(e)}))}var U=function(e){k||R(e.target.dataset.bigurl),F(!k)};return Object(m.jsxs)("div",{className:h.a.App,children:[Object(m.jsx)(j,{onSubmit:function(e){u(null),M(1),c(e)}}),d&&Object(m.jsx)("h3",{children:d.message}),i&&0===i.length&&Object(m.jsx)("h3",{children:"\u041f\u043e \u0442\u0430\u043a\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441."}),!i&&x&&Object(m.jsx)(G,{}),i&&i.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(_,{images:i,onClick:U}),k&&Object(m.jsx)(I,{showModal:U,props:A}),x?Object(m.jsx)(G,{}):Object(m.jsx)(w,{onClick:function(){T()}})]})]})}o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2kksp",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3wnli"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__xArry",Modal:"Modal_Modal__1lq4M"}}},[[43,1,2]]]);
//# sourceMappingURL=main.e27b2f2c.chunk.js.map