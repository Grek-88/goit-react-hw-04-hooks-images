{"version":3,"sources":["App/App.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","Searchbar/Searchbar.module.css","Searchbar/Searchbar.jsx","ImageGalleryItem/ImageGalleryItem.jsx","ImageGallery/ImageGallery.jsx","Modal/Modal.jsx","Button/Button.jsx","Loader/Loader.jsx","App/App.jsx","index.js","ImageGalleryItem/ImageGalleryItem.module.css","Modal/Modal.module.css"],"names":["module","exports","Searchbar","props","className","s","SearchForm","onSubmit","ev","preventDefault","target","value","trim","toLowerCase","alert","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","largeImageURL","tags","src","alt","ImageGalleryItemImage","ImageGallery","images","onClick","map","id","webformatURL","Modal","useEffect","window","addEventListener","hendelKeyDown","removeEventListener","e","code","showModal","Overlay","currentTarget","Button","LoaderMore","style","margin","color","height","width","timeout","App","useState","query","setQuery","imgData","setImgData","error","setError","loading","setLoading","isOpenModal","setIsOpenModal","page","setPage","bigurl","setBigurl","fetchData","fetch","then","res","ok","json","Promise","reject","Error","imgDataFetch","console","log","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","togleModalShow","dataset","dataQuery","message","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,IAAM,mB,mBCAxBD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,uCCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,gICCjO,SAASC,EAAUC,GAWhC,OACE,wBAAQC,UAAWC,IAAEH,UAArB,SACE,uBAAME,UAAWC,IAAEC,WAAYC,SAZnC,SAAoBC,GAClBA,EAAGC,iBAC+B,KAA9BD,EAAGE,OAAO,GAAGC,MAAMC,QAIvBT,EAAMI,SAASC,EAAGE,OAAO,GAAGC,MAAME,eAClCL,EAAGE,OAAO,GAAGC,MAAQ,IAJnBG,MAAM,6LASN,UACE,wBAAQC,KAAK,SAASX,UAAWC,IAAEW,iBAAnC,SACE,sBAAMZ,UAAWC,IAAEY,sBAAnB,sBAGF,uBACEb,UAAWC,IAAEa,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,kC,sDCvBP,SAASC,EAAT,GAA2D,IAA/BC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,cAAeC,EAAQ,EAARA,KAC/D,OACE,oBAAIrB,UAAWC,IAAEiB,iBAAjB,SACE,qBACEI,IAAKH,EACLI,IAAKF,EACL,cAAaD,EACbpB,UAAWC,IAAEuB,0BCNN,SAASC,EAAT,GAA4C,IAApBC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QAC7C,OACE,oBAAI3B,UAAWC,IAAEwB,aAAcE,QAASA,EAAxC,SACGD,EAAOE,KAAI,gBAAGC,EAAH,EAAGA,GAAIT,EAAP,EAAOA,cAAeU,EAAtB,EAAsBA,aAAcT,EAApC,EAAoCA,KAApC,OACV,cAACH,EAAD,CAEEC,MAAOW,EACPT,KAAMA,EACND,cAAeA,GAHVS,Q,oBCLA,SAASE,EAAMhC,GAC5BiC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACLF,OAAOG,oBAAoB,UAAWD,OAI1C,IAAMA,EAAgB,SAACE,GACN,WAAXA,EAAEC,MACJvC,EAAMwC,aAUV,OACE,qBAAKvC,UAAWC,IAAEuC,QAASb,QAPX,SAACU,GACbA,EAAEI,gBAAkBJ,EAAE/B,QACxBP,EAAMwC,aAKR,SACE,qBAAKvC,UAAWC,IAAE8B,MAAlB,SACE,qBAAKT,IAAKvB,EAAMA,MAAOwB,IAAI,S,qBCxBpB,SAASmB,EAAT,GAA8B,IAAZf,EAAW,EAAXA,QAC/B,OACE,wBAAQhB,KAAK,SAASX,UAAWC,IAAEyC,OAAQf,QAASA,EAApD,uB,qBCHW,SAASgB,IACtB,OACE,qBAAKC,MAAO,CAAEC,OAAQ,QAAtB,SACE,cAAC,IAAD,CACElC,KAAK,YACLmC,MAAM,MACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,QCDF,SAASC,IACtB,MAA0BC,mBAAS,MAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA8BF,mBAAS,MAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA0BJ,mBAAS,MAAnC,mBAAOK,EAAP,KAAcC,EAAd,KACA,EAA8BN,oBAAS,GAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KACA,EAAsCR,oBAAS,GAA/C,mBAAOS,EAAP,KAAoBC,EAApB,KACA,EAAwBV,mBAAS,GAAjC,mBAAOW,EAAP,KAAaC,EAAb,KACA,EAA4BZ,mBAAS,IAArC,mBAAOa,EAAP,KAAeC,EAAf,KAEAjC,qBAAU,WACHoB,GAGLc,MACC,CAACd,IAQJ,SAASc,IAGP,OAFAP,GAAW,GAEJQ,MAAM,8BAAD,OACoBf,EADpB,iBACkCU,EADlC,gGAGTM,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OACb,IAAIC,MACF,oUAILN,MAAK,SAACO,GACLC,QAAQC,IAAIF,GACZC,QAAQC,IAAIf,GACZC,EAAQD,EAAO,GACfP,GAAW,SAACD,GAAD,OACTA,EAAO,sBAAOA,GAAP,YAAmBqB,EAAaG,OAAQH,EAAaG,QAE9DnB,GAAW,GACX1B,OAAO8C,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,cAGbC,OAAM,SAAC7B,GAAD,OAAWC,EAASD,MAG/B,IAIM8B,EAAiB,SAAClF,GACjBwD,GACHK,EAAU7D,EAAGE,OAAOiF,QAAQvB,QAE9BH,GAAgBD,IAGlB,OACE,sBAAK5D,UAAWC,IAAEiD,IAAlB,UACE,cAACpD,EAAD,CAAWK,SAnDI,SAACqF,GAClBjC,EAAW,MACXQ,EAAQ,GACRV,EAASmC,MAiDNhC,GAAS,6BAAKA,EAAMiC,UACpBnC,GAA8B,IAAnBA,EAAQoC,QAClB,+VAEApC,GAAWI,GAAW,cAACf,EAAD,IACvBW,GAAWA,EAAQoC,OAAS,GAC3B,qCACE,cAACjE,EAAD,CAAcC,OAAQ4B,EAAS3B,QAAS2D,IACvC1B,GAAe,cAAC7B,EAAD,CAAOQ,UAAW+C,EAAgBvF,MAAOiE,IACxDN,EAAU,cAACf,EAAD,IAAiB,cAACD,EAAD,CAAQf,QAvB1B,WAChBuC,aCzDJyB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC3C,EAAD,MAEF+B,SAASa,eAAe,U,kBCT1BlG,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,kBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,wB","file":"static/js/main.e27b2f2c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__RHOmZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__38KAP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Yj2d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Si-2\",\"SearchForm\":\"Searchbar_SearchForm__3XLRT\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3bMX6\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1a0zS\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2p10d\"};","import s from \"../Searchbar/Searchbar.module.css\";\r\n\r\nexport default function Searchbar(props) {\r\n  function inputQuery(ev) {\r\n    ev.preventDefault();\r\n    if (ev.target[1].value.trim() === \"\") {\r\n      alert(\"Для поиска необходимо ввести слово\");\r\n      return;\r\n    }\r\n    props.onSubmit(ev.target[1].value.toLowerCase());\r\n    ev.target[1].value = \"\";\r\n  }\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={inputQuery}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","import s from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ image, largeImageURL, tags }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={image}\r\n        alt={tags}\r\n        data-bigurl={largeImageURL}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import s from \"../ImageGallery/ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ images, onClick }) {\r\n  return (\r\n    <ul className={s.ImageGallery} onClick={onClick}>\r\n      {images.map(({ id, largeImageURL, webformatURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          image={webformatURL}\r\n          tags={tags}\r\n          largeImageURL={largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport s from \"../Modal/Modal.module.css\";\r\n\r\nexport default function Modal(props) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", hendelKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", hendelKeyDown);\r\n    };\r\n  });\r\n\r\n  const hendelKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      props.showModal();\r\n    }\r\n  };\r\n\r\n  const hideModal = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      props.showModal();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={s.Overlay} onClick={hideModal}>\r\n      <div className={s.Modal}>\r\n        <img src={props.props} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import s from \"../Button/Button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import Loader from \"react-loader-spinner\";\r\nexport default function LoaderMore() {\r\n  return (\r\n    <div style={{ margin: \"auto\" }}>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"red\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport s from \"../App/App.module.css\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../Button/Button\";\nimport LoaderMore from \"../Loader/Loader\";\n\nexport default function App() {\n  const [query, setQuery] = useState(null);\n  const [imgData, setImgData] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const [page, setPage] = useState(1);\n  const [bigurl, setBigurl] = useState(\"\");\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    fetchData();\n  }, [query]);\n\n  const submitForm = (dataQuery) => {\n    setImgData(null);\n    setPage(1);\n    setQuery(dataQuery);\n  };\n\n  function fetchData() {\n    setLoading(true);\n\n    return fetch(\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=22269453-01e35d719392ba61f98a14ac3&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(\n          new Error(\n            \"По такому запросу картинок не найдено. Введите другой запрос.\"\n          )\n        );\n      })\n      .then((imgDataFetch) => {\n        console.log(imgDataFetch);\n        console.log(page);\n        setPage(page + 1);\n        setImgData((imgData) =>\n          imgData ? [...imgData, ...imgDataFetch.hits] : imgDataFetch.hits\n        );\n        setLoading(false);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => setError(error));\n  }\n\n  const getNewImg = () => {\n    fetchData();\n  };\n\n  const togleModalShow = (ev) => {\n    if (!isOpenModal) {\n      setBigurl(ev.target.dataset.bigurl);\n    }\n    setIsOpenModal(!isOpenModal);\n  };\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={submitForm} />\n      {error && <h3>{error.message}</h3>}\n      {imgData && imgData.length === 0 && (\n        <h3>По такому запросу картинок не найдено. Введите другой запрос.</h3>\n      )}\n      {!imgData && loading && <LoaderMore />}\n      {imgData && imgData.length > 0 && (\n        <>\n          <ImageGallery images={imgData} onClick={togleModalShow} />\n          {isOpenModal && <Modal showModal={togleModalShow} props={bigurl} />}\n          {loading ? <LoaderMore /> : <Button onClick={getNewImg} />}\n        </>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2kksp\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3wnli\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__xArry\",\"Modal\":\"Modal_Modal__1lq4M\"};"],"sourceRoot":""}